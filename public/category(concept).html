<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE- edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>개념 포스트잇 모음집</title>
    <link rel="stylesheet" href="./css/common.css" />
    <link rel="stylesheet" href="./css/category.css" />
  </head>
  <body>
    <div class="title"><strong>개념</strong></div>
    <img src="images/Group 15.svg" class="custom-button" />
    <img src="images/Group 16.svg" class="custom-button" />
    <img src="images/Group 17.svg" class="custom-button" />
    <div class="option">
      <select id="sortDropdown" onchange="toggleOptions()">
        <option value="0">중요도</option>
        <option value="1">오름차순</option>
        <option value="2">내림차순</option>
      </select>
    </div>

    <div class="rectangles">
      <div class="rectangle"></div>
      <div class="rectangle"></div>
      <div class="rectangle"></div>
      <div class="rectangle"></div>
      <div class="rectangle"></div>
      <div class="rectangle"></div>
    </div>

    <div class="widget">
      <a class="image-button" href="home.html"
        ><img src="images/home.png" alt="이미지 1"
      /></a>
      <a class="image-button" href="category(concept).html"
        ><img src="images/개념.png" alt="이미지 2"
      /></a>
      <a class="image-button" href="category(quiz).html"
        ><img src="images/퀴즈.png" alt="이미지 3"
      /></a>
      <a class="image-button" href="category(wronganswer).html"
        ><img src="images/오답.png" alt="이미지 4"
      /></a>
    </div>
    <script>
      function toggleOptions() {
        var sortDropdown = document.getElementById("sortDropdown");
        var selectedValue = sortDropdown.value;
        if (selectedValue == 0) {
          sortDropdown.value = 1;
        }
      }

      const clientToken = '1234';

      function fetchData(endpoint, order = '', importance = '') {
        // 'your-server-url'를 실제 서버가 호스팅된 URL로 대체하세요.
        const serverUrl = 'http://localhost:3000'; // 실제 서버 URL로 변경

        // GET 요청
        const query = `?token=${clientToken}${order ? `&order=${order}` : ''}${importance ? `&importance=${importance}` : ''}`;
        fetch(`${serverUrl}${endpoint}${query}`)
          .then((response) => response.json())
          .then((data) => {
            // 여기서 검색한 데이터를 처리하세요.
            console.log(data);
          })
          .catch((error) => {
            console.error('데이터를 가져오는 중 오류 발생:', error);
          });
      }

      function fetchWrongImportance() {
        fetchData('/wrong-importance', '', 'high');
      }

      function fetchWrongSort() {
        fetchData('/wrong-sort');
      }

      function fetchWrongSortOrder(order) {
        fetchData('/wrong-sort', `&order=${order}`);
      }

      // 예시: 클라이언트에서 오답 포스트잇 중요도 태그 별 GET API 호출
      fetchWrongImportance();
      // 예시: 클라이언트에서 오답 포스트잇 중요도 태그 별 GET API 호출
      fetchWrongSort();
      // 예시: 클라이언트에서 오답 포스트잇 중요도 태그 별 GET API 호출 (오름차순)
      fetchWrongSortOrder('asc');
      // 예시: 클라이언트에서 오답 포스트잇 중요도 태그 별 GET API 호출 (내림차순)
      fetchWrongSortOrder('desc');
    </script>
  </body>
</html>